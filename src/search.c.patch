*** search.c.0	2010-07-14 10:49:41.000000000 -0400
--- search.c	2010-11-27 19:17:08.000000000 -0500
***************
*** 2402,2409 ****
  				      && *(p - 1) != '\\' && *(p - 2) != '#'))
  			instr = TRUE;
  		}
! 		else if (!instr && ((p - line) < 2
! 				    || (*(p - 1) != '\\' && *(p - 2) != '#')))
  		    break;	/* found! */
  		++p;
  	    }
--- 2402,2411 ----
  				      && *(p - 1) != '\\' && *(p - 2) != '#'))
  			instr = TRUE;
  		}
!                 else if (!instr
!                          && ((p - line) < 1 || *(p - 1) != '#')
!                          && ((p - line) < 2
!                              || (*(p - 1) != '\\' && *(p - 2) != '#')))
  		    break;	/* found! */
  		++p;
  	    }
